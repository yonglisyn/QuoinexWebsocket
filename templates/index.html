<html>
	<head>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
	<script src="{{url_for('static', filename='vue.js')}}"></script>
	<script src="https://js.pusher.com/4.2/pusher.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/hmac-sha256.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/enc-base64-min.js"></script>
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
	</head>
	<body>
		<div id="app">
			<div class="row">
				<div class="col-md-12 text-center">QASHUSD-QASHBTC-BTCUSD</div>
				<!-- <div onclick="buy()" class="btn btn-danger btn-sm">Buy</div> -->
			</div>
			<div class="row">
				<div class="col-md-2 text-center">Positive</div>
				<div class="col-md-3 text-center" v-text="exchange_positive['ratio']"></div>
				<div class="col-md-3 text-center" v-text="exchange_positive['availabe_amount']"></div>
				<div class="col-md-2 text-center" v-text="exchange_positive['trade_amount']"></div>
				<div class="col-md-2">
					<div class="btn btn-danger" v-on:click="positive_trade()">Trade</div>
				</div>
			</div>
			<div class="row" style="margin-top: 5px;">
				<div class="col-md-2 text-center">Negative</div>
				<div class="col-md-3 text-center" v-text="exchange_negative['ratio']"></div>
				<div class="col-md-3 text-center" v-text="exchange_negative['availabe_amount']"></div>
				<div class="col-md-2 text-center" v-text="exchange_negative['trade_amount']"></div>
				<div class="col-md-2">
					<div class="btn btn-danger">Trade</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-4 text-center" v-for="(value, key) in orderbooks">
					<div v-text="key"></div>
					<div class="text-center row">
						<div class="col text-center">price</div>
						<div class="col text-center">quantity</div>
					</div>
					<div class="row text-danger" v-for="order in value['sell'].slice(0, 9).reverse()">
						<div class="col text-center" v-text="(order[0]*1).toFixed(8).toString()"></div>
						<div class="col text-center" v-text="(order[1]*1).toFixed(8).toString()"></div>
					</div>
					{% raw %}
						<div>spread: {{ ((value['sell'][0][0] - value['buy'][0][0]).toFixed(8)).toString() }}</div>
					{% endraw %}
					<div class="row text-success" v-for="order in value['buy'].slice(0, 9)">
							<div class="col text-center" v-text="(order[0]*1).toFixed(8).toString()"></div>
							<div class="col text-center" v-text="(order[1]*1).toFixed(8).toString()"></div>
						</div>
				</div>
			</div>
		</div>
		<script>
			var orderbooks = {"btcusd":{ "sell":{{ orderbooks["btcusd"]["sell_price_levels"] | safe}}, "buy": {{ orderbooks["btcusd"]["buy_price_levels"] | safe }} }, 
							  "qashusd":{ "sell":{{ orderbooks["qashusd"]["sell_price_levels"] | safe}}, "buy": {{ orderbooks["qashusd"]["buy_price_levels"] | safe }} }, 
							  "qashbtc":{ "sell":{{ orderbooks["qashbtc"]["sell_price_levels"] | safe}}, "buy": {{ orderbooks["qashbtc"]["buy_price_levels"] | safe }} }};
		</script>
		<script src="{{url_for('static', filename='main.js')}}"></script>
	</body>
</html>